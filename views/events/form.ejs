<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title><%= title || 'Event' %></title>

  <!-- match other views -->
  <link rel="stylesheet" href="/css/main.css?v=7">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=DM+Serif+Display&family=Montserrat:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>

  <%- include('../partials/_nav') %>
  <%- include('../partials/_flash') %>

  <div class="page-wrap">
    <div class="page">

      <h1><%= title %></h1>

      <p style="margin-top: 0; color: #555a55; max-width: 640px;">
        Use this form to create or update an Ella Rises event, including type, recurrence pattern, capacity, and description.
      </p>

      <form
        action="<%= event && event.eventname ? '/events/' + encodeURIComponent(event.eventname) : '/events' %>"
        method="POST"
        style="max-width: 520px;"
      >
        <input type="hidden" name="_csrf" value="<%= csrfToken %>">

        <div class="form-row">
          <label for="eventname">Event name</label>
          <input
            id="eventname"
            type="text"
            name="eventname"
            value="<%= event.eventname || '' %>"
            required
          >
        </div>

        <div class="form-row">
          <label for="eventtype">Event type</label>
          <input
            id="eventtype"
            type="text"
            name="eventtype"
            placeholder="Example: Workshop, Summit, Tour"
            value="<%= event.eventtype || '' %>"
          >
        </div>

        <div class="form-row">
          <label for="eventrecurrencepattern">Recurrence pattern</label>
          <input
            id="eventrecurrencepattern"
            type="text"
            name="eventrecurrencepattern"
            placeholder="Example: One time, Monthly, Weekly"
            value="<%= event.eventrecurrencepattern || '' %>"
          >
        </div>

        <div class="form-row">
          <label for="eventdefaultcapacity">Default capacity</label>
          <input
            id="eventdefaultcapacity"
            type="number"
            name="eventdefaultcapacity"
            min="0"
            placeholder="Example: 25"
            value="<%= event.eventdefaultcapacity || '' %>"
          >
        </div>

        <div class="form-row">
          <label for="eventdescription">Description</label>
          <textarea
            id="eventdescription"
            name="eventdescription"
            rows="4"
            placeholder="Brief description of the event, audience, and goals"
          ><%= event.eventdescription || '' %></textarea>
        </div>

        <button type="submit" class="btn-primary" style="margin-top: 1rem;">
          <%= event && event.eventname ? 'Update Event' : 'Create Event' %>
        </button>
      </form>

      <p style="margin-top: 1.2rem;">
        <a href="/events" class="link-back">&larr; Back to events</a>
      </p>

    </div>
  </div>

  <%- include('../partials/_footer') %>
</body>
</html>

