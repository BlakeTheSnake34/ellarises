<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title><%= title || 'Participant Milestones – Ella Rises' %></title>

  <link rel="stylesheet" href="/css/main.css?v=4">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=DM+Serif+Display&family=Montserrat:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
  <%- include('../partials/_nav') %>
  <%- include('../partials/_flash') %>

  <div class="page-wrap">
    <div class="page">

      <!-- Header and summary -->
      <div style="display: flex; justify-content: space-between; align-items: flex-start; gap: 1.5rem; margin-bottom: 1.25rem;">
        <div>
          <h1>
            Milestones for
            <%= participant.first_name %> <%= participant.last_name %>
          </h1>
          <p style="margin: 0.1rem 0; font-size: 0.95rem;">
            Email:
            <strong><%= participant.email %></strong>
          </p>
          <p style="margin: 0.35rem 0 0; font-size: 0.9rem; color: #555a55;">
            This page shows long term achievements for this participant, such as
            degrees, certificates, internships, competitions, and other important
            experiences.
          </p>
        </div>

        <div style="text-align: right;">
          <a href="/milestones" class="btn-add" style="margin-bottom: 0.4rem; display: inline-block;">
            &larr; All Milestones
          </a>
          <br>
          <a href="/participants" class="link-back">Back to Participants</a>
        </div>
      </div>

      <h2 style="margin-top: 0;">Milestone History</h2>

      <div class="table-shell">
        <div class="table-shell-inner">
          <table>
            <thead>
              <tr>
                <th>Milestone Title</th>
                <th>Date</th>
              </tr>
            </thead>
            <tbody>
              <% if (!milestones || milestones.length === 0) { %>
                <tr>
                  <td colspan="2">
                    No milestones recorded yet for this participant.
                  </td>
                </tr>
              <% } else { %>
                <% milestones.forEach(m => { %>
                  <tr>
                    <td><%= m.milestonetitle %></td>
                    <td>
                      <% if (m.milestonedate) { %>
                        <%= new Date(m.milestonedate).toLocaleDateString('en-US') %>
                      <% } else { %>
                        —
                      <% } %>
                    </td>
                  </tr>
                <% }) %>
              <% } %>
            </tbody>
          </table>
        </div>
      </div>

      <p style="margin-top: 1.2rem;">
        <a href="/milestones" class="link-back">&larr; Back to all participant milestones</a>
      </p>
    </div>
  </div>
</body>
</html>



